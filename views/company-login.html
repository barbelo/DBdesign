<!DOCTYPE html>
<html>
<head>

    <title> title </title>
    <link rel='stylesheet' href='stylesheets/style.css' />

    <script src="javascripts/vue.js"></script>
    <script src="javascripts/axios.js"></script>

</head>
<body>
<h1>title </h1>
<p>Welcome to title</p>

<script>
    let vm = new Vue({
        el: '#app',
        data:{
            companyname: '',
            password: '',
            status: ''
        },
        created() {
            self = this;
        },
        methods: {
            login() {
                if (self.companyname && self.password) {
                    axios.post('/', {
                        companyname: self.companyname,
                        password: self.password
                    }).then(function (response) {
                        if (response.code === 200) {
                            window.location.href = '/';
                        } else {
                            self.status = '航空公司代码或密码错误，请重新输入！';
                        }
                    }).catch(function (error){
                        console.log(error);
                    });

                }
            }
        }
    })
</script>



</body>
</html>

